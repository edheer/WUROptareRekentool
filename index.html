<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WUR Optare Rekentool</title>
    <style>
        :root {
            --wur-groen-primair: #3c8a49; --wur-blauw: #00546d; --wur-groen-secundair: #8dc63f;
            --licht-groen-bg: #f0f7f1; --tekst-donker: #333333; --tekst-grijs: #555555;
            --border-kleur: #d9e0da; --achtergrond: #f9fafb; --rood-waarschuwing: #d9534f;
        }
        body {
            font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--achtergrond); color: var(--tekst-donker); display: flex;
            justify-content: center; align-items: flex-start; min-height: 100vh; margin: 0; padding: 20px;
        }
        .container {
            background-color: white; padding: 2rem; border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.07); max-width: 800px; width: 100%;
        }
        .header {
            border-bottom: 2px solid var(--border-kleur); padding-bottom: 1rem; margin-bottom: 2rem;
            text-align: center;
        }
        .header h1 { font-size: 2rem; color: var(--wur-blauw); margin: 0; }
        .grid-container { display: grid; grid-template-columns: 1fr 1fr; gap: 2.5rem; }
        h2 { font-size: 1.5rem; color: var(--wur-blauw); border-bottom: 2px solid var(--wur-groen-primair); padding-bottom: 0.5rem; margin-top: 0; }
        .options-list .option { display: flex; align-items: center; padding: 12px; border-radius: 6px; margin-bottom: 10px; transition: background-color 0.2s; }
        .options-list .option:hover { background-color: #f7f7f7; }
        .options-list input[type="checkbox"] { width: 20px; height: 20px; margin-right: 15px; cursor: pointer; }
        .options-list label { flex-grow: 1; cursor: pointer; }
        .options-list .cost { font-weight: 600; color: var(--tekst-grijs); }
        .results-section .result-item { display: flex; justify-content: space-between; align-items: center; font-size: 1.1rem; padding: 12px 0; border-bottom: 1px solid var(--border-kleur); }
        .results-section .result-item span:first-child { font-weight: 600; color: var(--tekst-grijs); }
        .results-section .result-item span:last-child { font-weight: 700; font-size: 1.2rem; }
        .results-section .result-item.highlight span:last-child { color: var(--wur-groen-primair); font-size: 1.5rem; }
        .results-section .result-item.warning span:last-child { color: var(--rood-waarschuwing); }
        .disclaimer { font-size: 0.8rem; color: #999; margin-top: 1.5rem; text-align: center; }
        @media (max-width: 768px) { .grid-container { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

    <div class="container">
        <div class="header">
            <h1>Concept Rekentool Keuzemodel</h1>
        </div>

        <div class="grid-container">
            <!-- Linker kolom: Keuzes -->
            <div class="options-section">
                <h2>Opties Keuze Optare</h2>
                <div class="options-list" id="options-container">
                    <!-- Opties worden hier dynamisch ingeladen door JavaScript -->
                </div>
            </div>

            <!-- Rechter kolom: Resultaten -->
            <div class="results-section">
                <h2>Jouw Financiële Situatie</h2>
                
                <div class="result-item">
                    <span>Beschikbare fiscale ruimte</span>
                    <span id="available-space">€ 0,00</span>
                </div>
                
                <div class="result-item">
                    <span>Inzet vanuit keuzes</span>
                    <span id="selected-cost">€ 0,00</span>
                </div>

                <div class="result-item highlight" id="remaining-item">
                    <span>Restant vrije ruimte</span>
                    <span id="remaining-space">€ 0,00</span>
                </div>

                <hr style="border:none; border-top: 1px solid #ccc; margin: 20px 0;">

                <div class="result-item">
                    <span>Huidig netto maandsalaris (schatting)</span>
                    <span id="current-net-salary">€ 2.800,00</span>
                </div>
                
                <div class="result-item highlight">
                    <span>Schatting nieuw netto salaris</span>
                    <span id="new-net-salary">€ 2.800,00</span>
                </div>
                
            </div>
        </div>
        <p class="disclaimer">* Dit is een indicatieve berekening. De definitieve bedragen zie je op je loonstrook. Aan dit overzicht kunnen geen rechten worden ontleend.</p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- STAP 1: DATA INSTELLEN (GEBASEERD OP EXCEL) ---
            // Vervang deze waardes door de echte data uit ADP of andere systemen.

            const fiscalData = {
                totalYearlySpace: 5000.00,
                alreadyUsed: 1500.00
            };

            const salaryData = {
                currentNetMonthly: 2800.00, // Schatting van het netto salaris
                taxRate: 0.37 // Gemiddeld belastingtarief voor de berekening van het voordeel. PAS DIT AAN!
            };

            // BELANGRIJK: Vul hier de ECHTE kosten per optie in!
            // De 'id' moet uniek zijn, 'name' is wat de gebruiker ziet, 'cost' is het bedrag in euro's.
            const optareOptions = [
                { id: 'dca', name: 'DCA', cost: 250 },
                { id: 'dca-sport', name: 'DCA Sport', cost: 300 },
                { id: 'vujeju-verlof', name: 'VU/EJU met verlof (mei/nov)', cost: 1200 },
                { id: 'vujeju-zonder', name: 'VU/EJU zonder verlof (mei/nov)', cost: 1200 },
                { id: 'eju-verlof', name: 'EJU met verlof (nov)', cost: 800 },
                { id: 'eju-zonder', name: 'EJU zonder verlof (nov)', cost: 800 },
                { id: 'studie', name: 'Studie vergoeding', cost: 1500 },
                { id: 'vakbond', name: 'Vakbondscontributie', cost: 180 },
                { id: 'fiets', name: 'Vergoeding fiets of scooter', cost: 750 }
            ];

            // --- STAP 2: ELEMENTEN VINDEN OP DE PAGINA ---
            const optionsContainer = document.getElementById('options-container');
            const availableSpaceEl = document.getElementById('available-space');
            const selectedCostEl = document.getElementById('selected-cost');
            const remainingSpaceEl = document.getElementById('remaining-space');
            const currentNetSalaryEl = document.getElementById('current-net-salary');
            const newNetSalaryEl = document.getElementById('new-net-salary');
            const remainingItemEl = document.getElementById('remaining-item');

            // Functie om getallen netjes als valuta te tonen
            const formatCurrency = (value) => `€ ${value.toFixed(2).replace('.', ',')}`;

            // --- STAP 3: DE TOOL OPBOUWEN EN BEREKENINGEN MAKEN ---

            function initializeTool() {
                // Leeg de container voor de zekerheid
                optionsContainer.innerHTML = '';

                // Bouw de lijst met checkboxes op
                optareOptions.forEach(option => {
                    const optionDiv = document.createElement('div');
                    optionDiv.className = 'option';

                    optionDiv.innerHTML = `
                        <input type="checkbox" id="${option.id}" data-cost="${option.cost}">
                        <label for="${option.id}">${option.name}</label>
                        <span class="cost">${formatCurrency(option.cost)}</span>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });

                // Voeg een event listener toe aan de container die luistert naar wijzigingen
                optionsContainer.addEventListener('change', updateCalculations);

                // Start de eerste berekening
                updateCalculations();
            }

            function updateCalculations() {
                // 1. Bereken de totale kosten van geselecteerde opties
                let totalSelectedCost = 0;
                const selectedCheckboxes = optionsContainer.querySelectorAll('input[type="checkbox"]:checked');
                selectedCheckboxes.forEach(checkbox => {
                    totalSelectedCost += parseFloat(checkbox.dataset.cost);
                });

                // 2. Bereken de fiscale ruimte
                const availableSpace = fiscalData.totalYearlySpace - fiscalData.alreadyUsed;
                const remainingSpace = availableSpace - totalSelectedCost;

                // 3. Bereken de impact op het netto salaris
                // Bruto inzet = totalSelectedCost. Netto kosten = Bruto inzet * (1 - belastingtarief)
                const netCost = totalSelectedCost * (1 - salaryData.taxRate);
                const newNetSalary = salaryData.currentNetMonthly - (netCost / 12); // Jaarkosten omrekenen naar maandkosten

                // 4. Update de waardes op het scherm
                availableSpaceEl.textContent = formatCurrency(availableSpace);
                selectedCostEl.textContent = formatCurrency(totalSelectedCost);
                remainingSpaceEl.textContent = formatCurrency(remainingSpace);
                currentNetSalaryEl.textContent = formatCurrency(salaryData.currentNetMonthly);
                newNetSalaryEl.textContent = formatCurrency(newNetSalary);
                
                // 5. Visuele feedback: waarschuwing als de ruimte wordt overschreden
                if (remainingSpace < 0) {
                    remainingItemEl.classList.add('warning');
                } else {
                    remainingItemEl.classList.remove('warning');
                }
            }

            // Start de tool
            initializeTool();
        });
    </script>

</body>
</html>